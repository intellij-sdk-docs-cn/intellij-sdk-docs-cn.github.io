


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>List and Tree Controls / IntelliJ Platform SDK  DevGuide</title>
    <link rel="stylesheet" href="/intellij/sdk/docs/app/app.css">
    <link rel="shortcut icon" href="/intellij/sdk/docs/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="57x57" href="/intellij/sdk/docs/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/intellij/sdk/docs/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/intellij/sdk/docs/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/intellij/sdk/docs/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/intellij/sdk/docs/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/intellij/sdk/docs/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/intellij/sdk/docs/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/intellij/sdk/docs/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/intellij/sdk/docs/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/intellij/sdk/docs/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/intellij/sdk/docs/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/intellij/sdk/docs/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/intellij/sdk/docs/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/intellij/sdk/docs/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://intellij-sdk-docs-cn.github.io/intellij/sdk/docs//user_interface_components/lists_and_trees.html" />
    <meta property="og:site_name" content="JetBrains IntelliJ Platform SDK" />
    <meta property="og:title" content="List and Tree Controls" />
    <meta property="og:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:image" content="https://intellij-sdk-docs-cn.github.io/intellij/sdk/docs/jetbrains.png" />
    <meta property="article:modified_time" content="2020-02-19T22:25:03+08:00" />
    <!-- <meta property="article:section" content="" /> 
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@JBPlatform" />
    <meta name="twitter:title" content="List and Tree Controls" />
    <meta name="twitter:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta name="twitter:image" content="https://intellij-sdk-docs-cn.github.io/intellij/sdk/docs/jetbrains.png" />
    <meta class="swiftype" name="product" data-type="string" content="/intellij/sdk/docs/"></meta>
<link  rel="stylesheet" href="/intellij/sdk/docs/app/styles.css"></head>
<body data-id="user_interface_components/lists_and_trees">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ Platform SDK  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a data-bypass="true" href="//youtrack.jetbrains.com/issues/IJSDK">Send feedback</a></p>
                <p>&copy; 2000&ndash;2020 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>IntelliJ Platform SDK DevGuide</h3>
                
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/user_interface_components/editor_components.html">Editor Components</a>
                        <a class="navigation-links__next" href="/user_interface_components/misc_swing_components.html">Miscellaneous Swing Components</a>
                    </div>
                    <a data-bypass="true" href="https://github.com/intellij-sdk-docs-cn/intellij-sdk-docs-cn/edit/master/user_interface_components/lists_and_trees.md" class="page-link-to-github" target="_blank" title="Edit this page on GitHub">
                        <i class="github-icon"></i>
                        <span class="text">Edit page</span>
                    </a>

                    <h1>List and Tree Controls</h1>
                    <!-- Copyright 2000-2020 JetBrains s.r.o. and other contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file. -->

<a name="jblist-and-tree" class="elem-anchor"></a>
<h3>JBList and Tree<a href="#jblist-and-tree" class="anchor-link"><span></span></a></h3>

<p>Whenever you would normally use a standard
<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html" data-bypass="yes" target="_blank"><span>Swing <code class="code highlight language-text">JList</code></span></a>
component, it’s recommended to use the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/components/JBList.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">JBList</code></span></a>
class as drop-in replacement.
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/components/JBList.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">JBList</code></span></a>
supports the following additional features on top of
<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">JList</code></span></a>:</p>

<ul>
  <li>
    <p>Drawing a tooltip with complete text of an item if the item doesn’t fit into the list box width.</p>
  </li>
  <li>
    <p>Drawing a gray text message in the middle of the list box when it contains no items.
The text can be customized by calling <code class="code highlight language-text">getEmptyText().setText()</code>.</p>
  </li>
  <li>
    <p>Drawing a busy icon in the top right corner of the list box to indicate that a background operation is being performed.
This can be enabled by calling <code class="code highlight language-text">setPaintBusy()</code>.</p>
  </li>
</ul>

<p>Similarly, the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/treeStructure/Tree.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">Tree</code></span></a>
class provides a replacement for the standard
<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JTree.html" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">JTree</code></span></a>
class.
In addition to the features of
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/components/JBList.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">JBList</code></span></a>,
it supports wide selection painting (Mac style) and auto-scroll on drag &amp; drop.</p>

<a name="coloredlistcellrenderer-and-coloredtreecellrenderer" class="elem-anchor"></a>
<h3>ColoredListCellRenderer and ColoredTreeCellRenderer<a href="#coloredlistcellrenderer-and-coloredtreecellrenderer" class="anchor-link"><span></span></a></h3>

<p>When you need to customize the presentation of items in a list box or a tree, it’s recommended to use the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/ColoredListCellRenderer.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ColoredListCellRenderer</code></span></a>
or
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/ColoredTreeCellRenderer.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ColoredTreeCellRenderer</code></span></a>
classes as the cell renderer.
These classes allow you to compose the presentation out of multiple text fragments with different attributes by calling <code class="code highlight language-text">append()</code> and to set an optional icon for the item by calling <code class="code highlight language-text">setIcon</code>.
The renderer automatically takes care of setting the correct text color for selected items and of many other platform-specific rendering details.</p>

<a name="listspeedsearch-and-treespeedsearch" class="elem-anchor"></a>
<h3>ListSpeedSearch and TreeSpeedSearch<a href="#listspeedsearch-and-treespeedsearch" class="anchor-link"><span></span></a></h3>

<p>To facilitate keyboard-based selection of items in a list box or a tree, you can install a speed search handler on it using the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-impl/src/com/intellij/ui/ListSpeedSearch.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ListSpeedSearch</code></span></a>
and
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-impl/src/com/intellij/ui/TreeSpeedSearch.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">TreeSpeedSearch</code></span></a>.
This can be done simply by calling <code class="code highlight language-text">new ListSpeedSearch(list)</code> or <code class="code highlight language-text">new TreeSpeedSearch(tree)</code>.
If you need to customize the text which is used to locate the element, you can override the <code class="code highlight language-text">getElementText()</code> method.
Alternatively, you can pass a function to convert items to strings.
A function needs to be passed as <code class="code highlight language-text">elementTextDelegate</code> to the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-impl/src/com/intellij/ui/ListSpeedSearch.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ListSpeedSearch</code></span></a>
constructor or as <code class="code highlight language-text">toString</code> to the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-impl/src/com/intellij/ui/TreeSpeedSearch.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">TreeSpeedSearch</code></span></a>
constructor.</p>

<a name="toolbardecorator" class="elem-anchor"></a>
<h3>ToolbarDecorator<a href="#toolbardecorator" class="anchor-link"><span></span></a></h3>

<p>A very common task in plugin development is showing a list or a tree where the user is allowed to add, remove, edit or reorder the items.
The implementation of this task is greatly facilitated by the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/ToolbarDecorator.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ToolbarDecorator</code></span></a>
class.
This class provides a toolbar with actions on items and automatically enables drag &amp; drop reordering of items in list boxes if supported by the underlying list model.
The position of the toolbar above or below the list depends on the platform under which the IDE is running.</p>

<p>To use a toolbar decorator:</p>

<ul>
  <li>
    <p>If you need to support removing and reordering of items in a list box, make sure the model of your list implements the
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/util/ui/src/com/intellij/util/ui/EditableModel.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">EditableModel</code></span></a>
interface.
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/util/ui/src/com/intellij/ui/CollectionListModel.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">CollectionListModel</code></span></a>
is a handy model class that implements this interface.</p>
  </li>
  <li>
    <p>Call
<a href="https://upsource.jetbrains.com/idea-ce/file/idea-ce-e2d423f42b53eafd5c625b93149a0ebc7e49756c/platform/platform-api/src/com/intellij/ui/ToolbarDecorator.java" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">ToolbarDecorator.createDecorator()</code></span></a>
to create a decorator instance.</p>
  </li>
  <li>
    <p>If you need to support adding and/or removing items, call <code class="code highlight language-text">setAddAction()</code> and/or <code class="code highlight language-text">setRemoveAction()</code>.</p>
  </li>
  <li>
    <p>If you need other buttons in additional to the standard ones, call <code class="code highlight language-text">addExtraAction()</code> or <code class="code highlight language-text">setActionGroup()</code>.</p>
  </li>
  <li>
    <p>Call <code class="code highlight language-text">createPanel()</code> and add the component it returns to your panel.</p>
  </li>
</ul>

<!--
### AbstractTreeBuilder and AbstractTreeStructure
TODO link to tutorial
-->



                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/user_interface_components/editor_components.html">Editor Components</a>
                        <a class="navigation-links__next" href="/user_interface_components/misc_swing_components.html">Miscellaneous Swing Components</a>
                    </div>
                    <div class="last-modified">
                        Last modified: 19 February 2020
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/intellij/sdk/docs/app/app.js" data-baseurl="/intellij/sdk/docs/"></script>

</body>
</html>

